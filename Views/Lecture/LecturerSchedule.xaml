<Window x:Class="StudentManagement.Views.Lecturer.LecturerSchedule"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Lecturer Schedule" Width="1000" Height="700"
        WindowStartupLocation="CenterScreen" Background="#F1F5F9">
    <Grid Margin="12">
        <Grid.RowDefinitions>
            <RowDefinition Height="2*"/>
            <RowDefinition Height="3*"/>
        </Grid.RowDefinitions>

        <!-- Top: schedules -->
        <Border Grid.Row="0" Background="White" CornerRadius="8" Padding="10" BorderBrush="#CBD5E1" BorderThickness="1">
            <StackPanel>
                <TextBlock Text="My Teaching Schedules" FontSize="20" FontWeight="Bold" Foreground="#2563EB" Margin="0,0,0,8"/>
                <DataGrid ItemsSource="{Binding Schedules}" SelectedItem="{Binding SelectedSchedule, Mode=TwoWay}"
                          AutoGenerateColumns="False" CanUserAddRows="False" Height="220">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="ID" Binding="{Binding ScheduleId}" Width="60"/>
                        <DataGridTextColumn Header="Course" Binding="{Binding CourseName}" Width="*"/>
                        <DataGridTextColumn Header="Day" Binding="{Binding DayOfWeek}" Width="120"/>
                        <DataGridTextColumn Header="Slot" Binding="{Binding Slot}" Width="120"/>
                        <DataGridTextColumn Header="Room" Binding="{Binding Room}" Width="120"/>
                        <DataGridTextColumn Header="Notes" Binding="{Binding Notes}" Width="200"/>
                    </DataGrid.Columns>
                </DataGrid>
            </StackPanel>
        </Border>

        <!-- Bottom: students + actions -->
        <Grid Grid.Row="1" Margin="0,12,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="1*"/>
            </Grid.ColumnDefinitions>

            <Border Grid.Column="0" Background="White" CornerRadius="8" Padding="10" BorderBrush="#CBD5E1" BorderThickness="1">
                <StackPanel>
                    <TextBlock Text="Students in Selected Class" FontSize="18" FontWeight="Bold" Foreground="#0F172A" Margin="0,0,0,8"/>
                    <DataGrid ItemsSource="{Binding Students}" AutoGenerateColumns="False" CanUserAddRows="False" Height="320" SelectionMode="Single">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="60"/>
                            <DataGridTextColumn Header="Full Name" Binding="{Binding FullName}" Width="*"/>
                            <DataGridCheckBoxColumn Header="Present" Binding="{Binding IsPresent, Mode=TwoWay}" Width="120"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </StackPanel>
            </Border>

            <Border Grid.Column="1" Background="White" CornerRadius="8" Padding="10" BorderBrush="#CBD5E1" BorderThickness="1" Margin="10,0,0,0">
                <StackPanel VerticalAlignment="Center">
                    <Button Content="📋 Refresh Students" Height="44" Margin="0,8" Command="{Binding LoadStudentsCommand}" />
                    <Button Content="✅ Save Attendance" Height="44" Margin="0,8" Command="{Binding SaveAttendanceCommand}" />
                    <Button Content="🔁 Reload Schedules" Height="44" Margin="0,8" Command="{Binding ReloadSchedulesCommand}" />
                </StackPanel>
            </Border>
        </Grid>
    </Grid>
</Window>
