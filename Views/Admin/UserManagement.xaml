<Page x:Class="StudentManagement.Views.Admin.UserManagement"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:StudentManagement.Views.Admin"
      xmlns:sys="clr-namespace:System;assembly=mscorlib"
      mc:Ignorable="d" 
      d:DesignHeight="450" d:DesignWidth="800"
      Title="UserManagement">

    <Grid Background="#FFF2721E">
        <Border CornerRadius="15" Background="White" Margin="10,10,10,10" Padding="10">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="291*"/>
                    <RowDefinition Height="119*"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="191*"/>
                    <ColumnDefinition Width="189*"/>
                </Grid.ColumnDefinitions>
                <Label Content="User Management" FontSize="24" Foreground="#FFF2721E"
       FontWeight="Bold" Grid.ColumnSpan="2" Width="222" HorizontalAlignment="Left" VerticalAlignment="Top" Height="42" Margin="269,0,0,0"/>
                <ListView Grid.Row="0" Grid.Column="0" Margin="10,42,10,10" Grid.RowSpan="2" SelectionMode="Single" SelectedItem="{Binding SelectedUser, Mode=OneWayToSource}" ItemsSource="{Binding Users, Mode=OneWay}" ScrollViewer.HorizontalScrollBarVisibility="Auto" ScrollViewer.VerticalScrollBarVisibility="Auto">
                    <ListView.View>
                        <GridView>
                            <GridViewColumn Header="Username" DisplayMemberBinding="{Binding Username}"/>
                            <GridViewColumn Header="Full Name" DisplayMemberBinding="{Binding FullName}"/>
                            <GridViewColumn Header="Email" DisplayMemberBinding="{Binding Email}"/>
                            <GridViewColumn Header="Role" DisplayMemberBinding="{Binding Role}"/>
                            <GridViewColumn Header="Date of Birth" DisplayMemberBinding="{Binding DateOfBirth, StringFormat=yyyy-MM-dd}"/>
                            <GridViewColumn Header="Phone" DisplayMemberBinding="{Binding Phone}"/>
                            <GridViewColumn Header="Address" DisplayMemberBinding="{Binding Address}"/>
                            <GridViewColumn Header="Role" DisplayMemberBinding="{Binding Role}"/>
                            <GridViewColumn Header="Status">
                                <GridViewColumn.CellTemplate>
                                    <DataTemplate>
                                        <CheckBox IsChecked="{Binding IsActive}" IsEnabled="False"/>
                                    </DataTemplate>
                                </GridViewColumn.CellTemplate>
                            </GridViewColumn>
                        </GridView>
                    </ListView.View>
                </ListView>
                <Border Grid.Row="0" Grid.Column="1" Margin="10,42,10,10" Background="#FFF1D9D9" CornerRadius="10" Padding="10">
                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                        <StackPanel>
                            <TextBlock Text="User Details" FontSize="20" Foreground="#FFF2721E"
                           FontWeight="Bold" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                            <DockPanel>
                                <Label Content="Username:" Width="100" FontWeight="Bold"/>
                                <TextBox Text="{Binding Username}" x:Name="usernameTextBox" Height="25" FontSize="14"/>
                            </DockPanel>
                            <DockPanel>
                                <Label Content="Full Name:" Width="100" FontWeight="Bold"/>
                                <TextBox Text="{Binding FullName}" x:Name="fullNameTextBox" Height="25" FontSize="14"/>
                            </DockPanel>
                            <DockPanel>
                                <Label Content="Email:" Width="100" FontWeight="Bold"/>
                                <TextBox Text="{Binding Email}" x:Name="emailTextBox" Height="25" FontSize="14"/>
                            </DockPanel>
                            <DockPanel>
                                <Label Content="Password:" Width="100" FontWeight="Bold"/>
                                <TextBox Text="{Binding Password}" x:Name="passwordBox" Height="25" FontSize="14"/>
                            </DockPanel>
                            <DockPanel>
                                <Label Content="Date of Birth:" Width="100" FontWeight="Bold"/>
                                <DatePicker SelectedDate="{Binding DateOfBirth, Mode=TwoWay}"
                                        DisplayDateStart="1900-01-01"
                                        DisplayDateEnd="{x:Static sys:DateTime.Now}"
                                        Height="25"
                                        FontSize="14"/>
                            </DockPanel>
                            <DockPanel>
                                <Label Content="Phone:" Width="100" FontWeight="Bold"/>
                                <TextBox Text="{Binding Phone}" x:Name="phoneTextBox" Height="25" FontSize="14"/>
                            </DockPanel>
                            <DockPanel>
                                <Label Content="Address:" Width="100" FontWeight="Bold"/>
                                <TextBox Text="{Binding Address}" x:Name="addressTextBox" Height="25" FontSize="14"/>
                            </DockPanel>
                            <DockPanel>
                                <Label Content="Role:" Width="100" FontWeight="Bold"/>
                                <ComboBox ItemsSource="{Binding Roles}" SelectedItem="{Binding Role}" Height="25" FontSize="14"/>
                            </DockPanel>

                            <DockPanel>
                                <Label Content="Status:" Width="100" FontWeight="Bold"/>
                                <ComboBox ItemsSource="{Binding IsActiveList}" SelectedItem="{Binding IsActive}" Height="25" FontSize="14"/>
                            </DockPanel>

                        </StackPanel>
                    </ScrollViewer>
                </Border>
                <Border Grid.Row="1" Grid.Column="1" Margin="10,0,10,10" Background="#FFF1D9D9" CornerRadius="10" Padding="10">
                    <StackPanel>
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Top" HorizontalAlignment="Center" >
                            <Button Content="Add User" Width="70" Height="20" Margin="5" Command="{Binding AddUserCommand}" Background="#FF45E36E"/>
                            <Button Content="Edit User" Width="70" Height="20" Margin="5" Command="{Binding EditUserCommand}" Background="#FFCF9E42"/>
                            <Button Content="Delete User" Width="70" Height="20" Margin="5" Command="{Binding DeleteUserCommand}" Background="#FFFF1A1A"/>
                            <Button Content="Search" Width="70" Height="20" Margin="5" Command="{Binding SearchCommand}" Background="#FF8692F8"/>
                        </StackPanel>
                        <StackPanel VerticalAlignment="Top">
                            <TextBox x:Name="SearchTextBox" Height="20" Margin="25,5,25,5" FontSize="14" Text="{Binding SearchText, UpdateSourceTrigger=PropertyChanged}"/>
                        </StackPanel>
                    </StackPanel>
                </Border>
            </Grid>

        </Border>
    </Grid>
</Page>
